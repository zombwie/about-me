<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Oliver</title>
  <link id="theme" rel="stylesheet" type="text/css" href="style.css"/>
  <script src="script/script.js"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="media/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="media/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="media/favicon-16x16.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body>
  <section class="banner" id="sec">.
    <header>
      <a href="/" class="logo"><img src="media/Oliver_logo.svg" width="200%"></a>
      <div id="toggle" onclick="toggle()"></div>
    </header>
    <div class="content">
      <h2>Velkommen!<br>Jeg er <span>Oliver Ono Wingerei</span></h2>
      <p>Hei, jeg heter Oliver og jeg liker å kode kule ting.</p>
      <p class="animate__animated animate__lightSpeedInLeft" id="visitors">test data</p>
      <div>
        <button class="myButton" onclick="document.location='/meg.html'">Finn ut mer!</button>
      </div>
    </div>
  </section>
  <div id="navigation">
    <ul>
      <li><a href="index.html">Hjem</a></li>
      <li><a href="meg.html">Om meg</a></li>
      <li><a href="contact.html">Kontakt meg</a></li>
      <li><a href="portfolio.html">Portefølje</a></li>
      <button class="themeknapp" onclick="toggleTheme()">Bytt farge!</button>
      </label>
    </ul>
    </div>
  <script type="text/javascript">
    function toggle(){
      var sec = document.getElementById('sec');
      var nav = document.getElementById('navigation');
      sec.classList.toggle('active')
      nav.classList.toggle('active')
    }




    const outEl = document.getElementById("visitors");
    const baseUrl = 'http://65.108.15.66:25002/info'

    async function getInfo(e){
      const res = await fetch(baseUrl,
      {
        method: 'GET'
      })
      const data = await res.json()
      const visitors = JSON.stringify(data)
      const besokende = JSON.parse(visitors).info[0].visitors
      outEl.innerHTML = `Det er ${besokende} som her besøkt siden min! Ps.... telleren er live oppdaterende!`
    };
    getInfo()
    setInterval(myMethod, 1000);

    function myMethod( )
    {
      getInfo()
    } 
  </script>
</body>
</html>